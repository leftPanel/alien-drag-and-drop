var AlienDragAndDrop=function(){"use strict";function A(A,t){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?A:t}function t(A,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);A.prototype=Object.create(t&&t.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(A,t):A.__proto__=t)}function e(A,t){if(!(A instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Object.assign||function(A){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(A[n]=e[n])}return A};return function(){var r=function(){function A(A,t,n){if(window.jQuery){var r=$(A);return r.on(t,n),function(){r.off(t,n),r=null,A=null}}if(document.addEventListener){var o="focus"===t;return A.addEventListener(t,n,o),function(){A.removeEventListener(t,n,o),A=null}}if(document.attachEvent){var i=e(n,A);return A.attachEvent("on"+t,i),function(){A.detachEvent("on"+t,i),A=null}}}function t(t,e,n){var r=e.split(/\s+/g),o=void 0,i=[];for(o=0;o<r.length;o++)i.push(A(t,r[o],n));return function(){var A=void 0;for(A=0;A<i.length;A++)i[A]()}}function e(A,t){return function(e){return e=e||window.event,e.target=e.target||e.srcElement||t,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.which=e.keyCode?e.keyCode:isNaN(e.button)?void 0:e.button+1,e.relatedTarget="mouseover"===e.type?e.fromElement:"mouseout"===e.type?e.toElement:null,A(e)}}return t}(),o=function(){return new(function(){function A(){e(this,A)}return A.prototype.map=function(A,t){var e,n,r;for(e=A.length,n=0,r=[];n<e;n++)r.push(t(A[n],n,A));return r},A.prototype.each=function(A,t){var e,n,r=A;for(e=r.length,n=0;n<e;n++)t(r[n],n,r)},A.prototype.consume=function(A,t){for(;A.length;)t(A.shift())},A.prototype.findRight=function(A,t){var e=void 0;for(e=A.length-1;e>=0;e--)if(t(A[e],e,A))return A[e];return null},A.prototype.closest=function(A,t){if(A.closest)return A.closest(t);var e=void 0;for(e=A;e;e=e.parentNode)if(this.matches(e,t))return e;return null},A.prototype.matches=function(A,t){var e=void 0,n=void 0;if(this.each(["matches","matchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],function(r){A[r]&&(e=!0,n=A[r](t))}),e)return n;for(var r=(A.parentNode||A.ownerDocument||document).querySelectorAll(t),o=r.length;--o>=0&&r.item(o)!==A;);return o>-1},A.prototype.prev=function(A,t){var e=void 0;for(e=A.previousSibling;e;e=e.previousSibling)if(1===e.nodeType&&t(e))return e;return null},A.prototype.next=function(A,t){var e=void 0;for(e=A.nextSibling;e;e=e.nextSibling)if(1===e.nodeType&&t(e))return e;return null},A.prototype.lastChild=function(A,t){var e=void 0;for(e=A.lastChild;e;e=e.previousSibling)if(1===e.nodeType&&t(e))return e;return null},A.prototype.firstChild=function(A,t){var e=void 0;for(e=A.firstChild;e;e=e.nextSibling)if(1===e.nodeType&&t(e))return e;return null},A}())}(),i=function(){return function(){function A(){e(this,A),this.store={}}return A.prototype.subscribe=function(A,t){var e=this;return this.store[A]||(this.store[A]=[]),this.store[A].push(t),function(){if(e.store[A])for(var n=0;n<e.store[A].length;n++)e.store[A][n]===t&&(e.store[A].splice(n,1),n--)}},A.prototype.broadcast=function(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.store[A])for(var e=0;e<this.store[A].length;e++)this.radioFilter(A,t)&&this.store[A][e](t)},A.prototype.unSubscribeAll=function(){this.store={}},A.prototype.radioFilter=function(A,t){return!0},A}()}(),u=function(){function A(A,t,e){var n=e,r=n.currentStyle||window.getComputedStyle(n,null),o=parseInt(r.borderLeftWidth,10),i=parseInt(r.borderTopWidth,10),u=n.getBoundingClientRect();return[A-o-u.left,t-i-u.top]}return A}(),s=function(){function A(A){return u(A.clientX,A.clientY,A.target||A.srcElement)}return A}(),l=function(){return"data:image/gif;base64,R0lGODlhEAAQAIcAAMAAAMEEBMQQEMUUFMccHMkkJM00NM88PNRQUNVUVNlkZNpoaNxwcN10dOSQkOecnOmkpOuwsO24uO68vO/AwPDExPHIyPLMzPXY2Pfg4Pjk5Pno6Pvw8Pz09P34+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAB8ALAAAAAAQABAAAAiSAD8IHNiBAoUOAxMOjGAAgMMAByoo/LABAQACDSA8YCAAgAKEAy0u4JBQg0MGCwE0mOgQQIALAg0UADmwpYYBCT50AOBAYUuBDAZ8oABgQsKfAh8AyCChaE2HCZVi4MBTINKBQWPOvCrwZs4PEVoCmJjgZUiHJAdqSAAA5cCKFzNu7PhxIsOWECVOJCjBgoeJAQEAOw=="}(),c=function(){return"data:image/gif;base64,R0lGODlhEAAQAIcAACdyJCZ/Iyl3JSl6JTR8MDV/MSaEIyqPJTWPMT+FOz+LOz+NOz+ZPDuhJ0yXPUKhM0ShM0mwJ1G3LlWzNV21P1q+N06bQVKgQl6pSGSwTGy2Vm23V261WG+1WG+1WWq5UHS3W3S3XHC/V3C4WXG5W3K5W3O6XHG+X3e8YH23Zny6ZH28Zn2+Z3+4aVzAO1zDPWbFSWrDSWzFS2nISnTCWXLLVW/CYW/DYW7EYW7EYm7FY2/GZHDBY3HEY3DHZXPHZnTDZHLIaHTIaHXIaHbJaXbKannBZH7BaX7Hb3nJa3rMbX/KcIO+bYfCcoXFdYDKc4DMcoPOd4fJeYnEdovIeJDOf5G5j5C8jpbHg5HAj5bLhpfMhZTIj5bNiJrHh5jLhprKh5jMh5nNip3Oi5nRi5nQjJrUjZvXkZ/SkJ/SkZ3YkqHWlaHXlaPXlqvSm6vTm6rcl63fm67Xoa/XoK7cpa/cprPZpbHdp7TZpbTaprLbqLXbqLTdqrTfrLXfrLbQtbbRtbfZtbrbtb7ftbDjn7Xhrrfhr7fhsL7jtr/juMHjtsDkucvsv8DAwMvtwNbu0tns1Ob04+336/H58PT68vz9+/3+/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAI0ALAAAAAAQABAAAAjVABsJHEiwoEFCNVxUiAHHoEBHM2i0oUNnzYcJigoyelHFkJooUdQUotJgEEEYVQopKRJEyJAkfaY8GBhHhCElQXzoyNEDERI/GLgIlMHmDJEdOG7YWHQpEpkxDARKuAPlx6FHPBJdqlTmiBwDAiPUWfJk0iVJW7uQYDEngEAKacwAkULpkiUtG0ps8aJAIJoMfIyccAJJjAYOIfJYuDIQQhM9KEyM8NABhJ0WBQgKOsBkT5gVKr7gSQEAUMFACC6AeeMGiwMCfxw2yrJggIAEVmTrJhgQADs="}(),a=function(){function A(A,r){var o=A.style.cssText,i=t(o),u=n({},i,r);A.style.cssText=e(u)}function t(A){var t={},e=A.split(/\s*;\s*/g),n=void 0;for(n=0;n<e.length;n++){var r=e[n].split(/\s*:\s*/g),o=r[0],i=r[1];t[o]=i}return t}function e(A){var t="",e=void 0;for(e in A)A.hasOwnProperty(e)&&(t+=e+":"+A[e]+";");return t}return A}(),f=function(){return function(){function A(t,n,o){e(this,A);var i=document.createElement("div"),u=document.createElement("img"),s=t.cloneNode(!0);i.style.cssText="position:fixed;z-index:9999;width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;display:none;",a(s,{position:"absolute",top:0,left:0}),u.width=20,u.height=20,u.style.cssText="position:absolute;top:"+-20/3+"px;left:"+-20/3+"px;opacity:.8;",u.src=l,i.appendChild(s),i.appendChild(u),document.body.appendChild(i),this.wrapper=i,this.cursorDomNode=u,this.offsetX=n,this.offsetY=o,this.listener=r(this.wrapper,"selectstart dragstart mousemove",function(A){A.preventDefault()})}return A.prototype.setPosition=function(A,t){this.wrapper.style.top=t-this.offsetY+"px",this.wrapper.style.left=A-this.offsetX+"px"},A.prototype.hide=function(){this.wrapper.style.display="none"},A.prototype.show=function(){this.wrapper.style.display="block"},A.prototype.destroy=function(){this.listener(),this.wrapper.parentNode.removeChild(this.wrapper)},A.prototype.setCursor=function(){this.cursorDomNode.src=c},A.prototype.unsetCursor=function(){this.cursorDomNode.src=l},A}()}();return function(){return function(n){function i(t){e(this,i);var l=A(this,n.call(this)),c=null,p=null,h=!1,d=null,v=null,g={},y=[],b=function(A){if(h)return void E(A);var t=A.target,e=!1,n=null,o=null,i=null;if(l.broadcast("dragstart",{target:t,canDrag:function(){return e=!0},setDragGhost:function(A,t,e){return n=A,o=t,i=e},setTransferData:function(A){return v=A}}),e){y=[r(document,"selectstart",C),r(document,"mousemove",m),r(document,"dragstart",D),r(document,"mouseup",E),r(document,"mousewheel",w)],c=t;var u=s(A),d=u[0],b=u[1];n=n||t.cloneNode(!0),a(n,{width:t.offsetWidth+"px",height:t.offsetHeight+"px",display:"block"}),n.id="",o=null==o?d:o,i=null==i?b:i,p=new f(n,o,i),p.hide(),g={x:A.clientX,y:A.clientY}}},m=function(A){A.preventDefault();var t=A.clientX,e=A.clientY,n=!1,r=null;clearTimeout(null),Math.max(Math.abs(t-g.x),Math.abs(e-g.y))<5||(p.setPosition(t,e),h||(p.show(),h=!0),l.broadcast("drag",{target:c,clientX:A.clientX,clientY:A.clientY}),p.unsetCursor(),d=null,p.hide(),r=document.elementFromPoint(A.clientX,A.clientY),p.show(),r&&(l.broadcast("dragover",{target:r,canDrop:function(){return n=!0},dragSource:l.dragSource,transferData:l.transferData}),n&&(d=r,p.setCursor())))},w=function(A){clearTimeout(null)},E=function(A){o.consume(y,function(A){return A()}),clearTimeout(null),p.destroy(),p=null;var t=document.elementFromPoint(A.clientX,A.clientY),e=t&&u(A.clientX,A.clientY,t)||{};t===d&&null!==d&&l.broadcast("drop",{target:d,dragSource:c,transferData:v,offsetX:e.left,offsetY:e.top}),l.broadcast("dragend",{target:c}),c=null,h=!1,v=null,g={}},D=function(A){A.preventDefault()},C=function(A){A.preventDefault()};return l.listeners=[r(t,"mousedown",b)],l}return t(i,n),i.prototype.destroy=function(){o.consume(this.listeners,function(A){return A()}),this.unSubscribeAll()},i.prototype.checkScroll=function(A,t){var e=this,n=t.left,r=t.right,o=t.top,i=t.bottom,u=t.vsbw,s=t.hsbw,l=0,c=0,a=i-s,f=r-u;a<20?c+=.3*(20-a):o<20&&(c-=.3*(20-o)),f<20?l+=.3*(20-f):n<20&&(l-=.3*(20-n)),(l||c)&&(A.scrollLeft+=l,A.scrollTop+=c,clearTimeout(this.autoScrollHandler),this.autoScrollHandler=setTimeout(function(){e.checkScroll(A,{left:n,right:r,top:o,bottom:i,vsbw:u,hsbw:s})},10))},i}(i)}()}()}();