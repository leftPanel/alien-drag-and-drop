var AlienDragAndDrop=function(){"use strict";function A(A,t){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?A:t}function t(A,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);A.prototype=Object.create(t&&t.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(A,t):A.__proto__=t)}function e(A,t){if(!(A instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Object.assign||function(A){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(A[n]=e[n])}return A};return function(){var r=function(){function A(A,t,n){if(window.jQuery){var r=$(A);return r.on(t,n),function(){r.off(t,n),r=null,A=null}}if(document.addEventListener){var o="focus"===t;return A.addEventListener(t,n,o),function(){A.removeEventListener(t,n,o),A=null}}if(document.attachEvent){var i=e(n,A);return A.attachEvent("on"+t,i),function(){A.detachEvent("on"+t,i),A=null}}}function t(t,e,n){var r=e.split(/\s+/g),o=void 0,i=[];for(o=0;o<r.length;o++)i.push(A(t,r[o],n));return function(){var A=void 0;for(A=0;A<i.length;A++)i[A]()}}function e(A,t){return function(e){return e=e||window.event,e.target=e.target||e.srcElement||t,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.which=e.keyCode?e.keyCode:isNaN(e.button)?void 0:e.button+1,e.relatedTarget="mouseover"===e.type?e.fromElement:"mouseout"===e.type?e.toElement:null,A(e)}}return t}(),o=function(){return new(function(){function A(){e(this,A)}return A.prototype.map=function(A,t){var e,n,r;for(e=A.length,n=0,r=[];n<e;n++)r.push(t(A[n],n,A));return r},A.prototype.each=function(A,t){var e,n,r=A;for(e=r.length,n=0;n<e;n++)t(r[n],n,r)},A.prototype.consume=function(A,t){for(;A.length;)t(A.shift())},A.prototype.findRight=function(A,t){var e=void 0;for(e=A.length-1;e>=0;e--)if(t(A[e],e,A))return A[e];return null},A.prototype.closest=function(A,t){if(A.closest)return A.closest(t);var e=void 0;for(e=A;e;e=e.parentNode)if(this.matches(e,t))return e;return null},A.prototype.matches=function(A,t){var e=void 0,n=void 0;if(this.each(["matches","matchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],function(r){A[r]&&(e=!0,n=A[r](t))}),e)return n;for(var r=(A.parentNode||A.ownerDocument||document).querySelectorAll(t),o=r.length;--o>=0&&r.item(o)!==A;);return o>-1},A.prototype.prev=function(A,t){var e=void 0;for(e=A.previousSibling;e;e=e.previousSibling)if(1===e.nodeType&&t(e))return e;return null},A.prototype.next=function(A,t){var e=void 0;for(e=A.nextSibling;e;e=e.nextSibling)if(1===e.nodeType&&t(e))return e;return null},A.prototype.lastChild=function(A,t){var e=void 0;for(e=A.lastChild;e;e=e.previousSibling)if(1===e.nodeType&&t(e))return e;return null},A.prototype.firstChild=function(A,t){var e=void 0;for(e=A.firstChild;e;e=e.nextSibling)if(1===e.nodeType&&t(e))return e;return null},A}())}(),i=function(){return function(){function A(){e(this,A),this.store={}}return A.prototype.subscribe=function(A,t){var e=this;return this.store[A]||(this.store[A]=[]),this.store[A].push(t),function(){if(e.store[A])for(var n=0;n<e.store[A].length;n++)e.store[A][n]===t&&(e.store[A].splice(n,1),n--)}},A.prototype.broadcast=function(A){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.store[A])for(var e=0;e<this.store[A].length;e++)this.radioFilter(A,t)&&this.store[A][e](t)},A.prototype.unSubscribeAll=function(){this.store={}},A.prototype.radioFilter=function(A,t){return!0},A}()}(),u=function(){function A(A,t,e){var n=e,r=n.currentStyle||window.getComputedStyle(n,null),o=parseInt(r.borderLeftWidth,10),i=parseInt(r.borderTopWidth,10),u=n.getBoundingClientRect();return[A-o-u.left,t-i-u.top]}return A}(),c=function(){function A(A){return u(A.clientX,A.clientY,A.target||A.srcElement)}return A}(),l=function(){return"data:image/gif;base64,R0lGODlhEAAQAIcAAMAAAMEEBMQQEMUUFMccHMkkJM00NM88PNRQUNVUVNlkZNpoaNxwcN10dOSQkOecnOmkpOuwsO24uO68vO/AwPDExPHIyPLMzPXY2Pfg4Pjk5Pno6Pvw8Pz09P34+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAB8ALAAAAAAQABAAAAiSAD8IHNiBAoUOAxMOjGAAgMMAByoo/LABAQACDSA8YCAAgAKEAy0u4JBQg0MGCwE0mOgQQIALAg0UADmwpYYBCT50AOBAYUuBDAZ8oABgQsKfAh8AyCChaE2HCZVi4MBTINKBQWPOvCrwZs4PEVoCmJjgZUiHJAdqSAAA5cCKFzNu7PhxIsOWECVOJCjBgoeJAQEAOw=="}(),s=function(){return"data:image/gif;base64,R0lGODlhEAAQAIcAACdyJCZ/Iyl3JSl6JTR8MDV/MSaEIyqPJTWPMT+FOz+LOz+NOz+ZPDuhJ0yXPUKhM0ShM0mwJ1G3LlWzNV21P1q+N06bQVKgQl6pSGSwTGy2Vm23V261WG+1WG+1WWq5UHS3W3S3XHC/V3C4WXG5W3K5W3O6XHG+X3e8YH23Zny6ZH28Zn2+Z3+4aVzAO1zDPWbFSWrDSWzFS2nISnTCWXLLVW/CYW/DYW7EYW7EYm7FY2/GZHDBY3HEY3DHZXPHZnTDZHLIaHTIaHXIaHbJaXbKannBZH7BaX7Hb3nJa3rMbX/KcIO+bYfCcoXFdYDKc4DMcoPOd4fJeYnEdovIeJDOf5G5j5C8jpbHg5HAj5bLhpfMhZTIj5bNiJrHh5jLhprKh5jMh5nNip3Oi5nRi5nQjJrUjZvXkZ/SkJ/SkZ3YkqHWlaHXlaPXlqvSm6vTm6rcl63fm67Xoa/XoK7cpa/cprPZpbHdp7TZpbTaprLbqLXbqLTdqrTfrLXfrLbQtbbRtbfZtbrbtb7ftbDjn7Xhrrfhr7fhsL7jtr/juMHjtsDkucvsv8DAwMvtwNbu0tns1Ob04+336/H58PT68vz9+/3+/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAI0ALAAAAAAQABAAAAjVABsJHEiwoEFCNVxUiAHHoEBHM2i0oUNnzYcJigoyelHFkJooUdQUotJgEEEYVQopKRJEyJAkfaY8GBhHhCElQXzoyNEDERI/GLgIlMHmDJEdOG7YWHQpEpkxDARKuAPlx6FHPBJdqlTmiBwDAiPUWfJk0iVJW7uQYDEngEAKacwAkULpkiUtG0ps8aJAIJoMfIyccAJJjAYOIfJYuDIQQhM9KEyM8NABhJ0WBQgKOsBkT5gVKr7gSQEAUMFACC6AeeMGiwMCfxw2yrJggIAEVmTrJhgQADs="}(),a=function(){function A(A,r){var o=A.style.cssText,i=t(o),u=n({},i,r);A.style.cssText=e(u)}function t(A){var t={},e=A.split(/\s*;\s*/g),n=void 0;for(n=0;n<e.length;n++){var r=e[n].split(/\s*:\s*/g),o=r[0],i=r[1];t[o]=i}return t}function e(A){var t="",e=void 0;for(e in A)A.hasOwnProperty(e)&&(t+=e+":"+A[e]+";");return t}return A}(),f=function(){return function(){function A(t,n,o){e(this,A);var i=document.createElement("div"),u=document.createElement("img"),c=t.cloneNode(!0);i.style.cssText="position:fixed;z-index:9999;width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;display:none;",a(c,{position:"absolute",top:0,left:0}),u.width=20,u.height=20,u.style.cssText="position:absolute;top:"+-20/3+"px;left:"+-20/3+"px;opacity:.8;",u.src=l,i.appendChild(c),i.appendChild(u),document.body.appendChild(i),this.wrapper=i,this.cursorDomNode=u,this.offsetX=n,this.offsetY=o,this.listener=r(this.wrapper,"selectstart dragstart mousemove",function(A){A.preventDefault()})}return A.prototype.setPosition=function(A,t){this.wrapper.style.top=t-this.offsetY+"px",this.wrapper.style.left=A-this.offsetX+"px"},A.prototype.hide=function(){this.wrapper.style.display="none"},A.prototype.show=function(){this.wrapper.style.display="block"},A.prototype.destroy=function(){this.listener(),this.wrapper.parentNode.removeChild(this.wrapper)},A.prototype.setCursor=function(){this.cursorDomNode.src=s},A.prototype.unsetCursor=function(){this.cursorDomNode.src=l},A}()}(),p=function(){function A(A){var t=void 0,e=[];for(t=A;t;t=t.parentNode)1===t.nodeType&&e.push(t);return e}return A}(),h=function(){function A(A,t){var e=A.scrollTop,n=A.scrollLeft,r=A.scrollHeight,o=A.scrollWidth,i=A.clientHeight,u=A.clientWidth;switch(t){case"left":return n>0;case"right":return n+u<o;case"up":return e>0;case"down":return e+i<r}return!1}function t(A){var t=A.currentStyle||window.getComputedStyle(A,null);return A===document.scrollingElement||(A===document.body||(A===document.documentElement||n.test(t.overflow+t.overflowY+t.overflowX)))}function e(e,n){return t(e)&&A(e,n)}var n=/(auto|scroll|hidden)/;return e}(),d=function(){function A(A,t,e){return A>t&&A<e}function t(A){return A===document.documentElement?{top:0,left:0,right:A.clientWidth,bottom:A.clientHeight,width:A.clientWidth,height:A.clientHeight}:A.getBoundingClientRect()}function e(e,r,o){var i=p(o),u={x:0,y:0},c=void 0,l=void 0;for(l=i.length-1;l>=0;l--)if(c=t(i[l]),A(e-c.left,0,n)&&h(i[l],"left")&&(u.x=-1),A(e-c.right,-n,0)&&h(i[l],"right")&&(u.x=1),A(r-c.top,0,n)&&h(i[l],"up")&&(u.y=-1),A(r-c.bottom,-n,0)&&h(i[l],"down")&&(u.y=1),u.x||u.y)return u;return u}var n=20;return e}(),v=function(){function A(A,t){var e=p(A),n=void 0;for(n=0;n<e.length;n++)if(h(e[n],t))return e[n];return null}return A}(),g=function(){function A(t,e,n,r,o,i){var u=d(t,e,n),c=u.x,l=u.y,s=c<0?"left":c>0?"right":l<0?"up":l>0?"down":"";if(c||l){var a=v(n,s);a&&(a.scrollLeft+=c*r,a.scrollTop+=l*r,i(setTimeout(function(){A(t,e,n,r,o,i)},o)))}}return function(){function t(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;e(this,t),this.step=A,this.interval=n,this.delay=r,this.timeoutHanler=null}return t.prototype.request=function(t,e,n){var r=this;setTimeout(function(){A(t,e,n,r.step,r.interval,function(A){return r.timeoutHanler=A})},this.delay)},t.prototype.cancel=function(){clearTimeout(this.timeoutHanler)},t}()}();return function(){return function(n){function i(t){e(this,i);var l=A(this,n.call(this)),s=null,p=null,h=!1,d=new g,v=null,y=null,m={},b=[],w=function(A){if(h)return void C(A);var t=A.target,e=!1,n=null,o=null,i=null;if(l.broadcast("dragstart",{target:t,canDrag:function(){return e=!0},setDragGhost:function(A,t,e){return n=A,o=t,i=e},setTransferData:function(A){return y=A}}),e){b=[r(document,"selectstart",M),r(document,"mousemove",E),r(document,"dragstart",D),r(document,"mouseup",C),r(document,"mousewheel",H)],s=t;var u=c(A),d=u[0],v=u[1];n=n||t.cloneNode(!0),a(n,{width:t.offsetWidth+"px",height:t.offsetHeight+"px",display:"block"}),n.id="",o=null==o?d:o,i=null==i?v:i,p=new f(n,o,i),p.hide(),m={x:A.clientX,y:A.clientY}}},E=function(A){A.preventDefault();var t=A.clientX,e=A.clientY,n=!1,r=null;d.cancel(),Math.max(Math.abs(t-m.x),Math.abs(e-m.y))<5||(p.setPosition(t,e),h||(p.show(),h=!0),l.broadcast("drag",{target:s,clientX:A.clientX,clientY:A.clientY}),p.unsetCursor(),v=null,p.hide(),r=document.elementFromPoint(A.clientX,A.clientY),p.show(),r&&(l.broadcast("dragover",{target:r,canDrop:function(){return n=!0},dragSource:l.dragSource,transferData:l.transferData}),n&&(v=r,p.setCursor())),r&&d.request(A.clientX,A.clientY,r))},H=function(A){d.cancel()},C=function(A){o.consume(b,function(A){return A()}),d.cancel(),p.destroy(),p=null;var t=document.elementFromPoint(A.clientX,A.clientY),e=t&&u(A.clientX,A.clientY,t)||{};t===v&&null!==v&&l.broadcast("drop",{target:v,dragSource:s,transferData:y,offsetX:e.left,offsetY:e.top}),l.broadcast("dragend",{target:s}),s=null,h=!1,y=null,m={}},D=function(A){A.preventDefault()},M=function(A){A.preventDefault()};return l.listeners=[r(t,"mousedown",w)],l}return t(i,n),i.prototype.destroy=function(){o.consume(this.listeners,function(A){return A()}),this.unSubscribeAll()},i}(i)}()}()}();